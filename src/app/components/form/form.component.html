<div class="container">
    <form (submit)="onSubmit($event)" class="needs-validation" [formGroup]="form">
        <div class="form-group row">
            <div class="form-group col-md-5" [ngClass]="displayFieldCss('name')">
                <label for="name" class="form-label required">Nombre</label>
                <input type="text" class="form-control" id="name" formControlName="name">
                <div *ngIf="form.get('name')?.touched && form.get('name')?.invalid" class="text-danger">{{ getErrorMessage('name') }}</div>
            </div>
            <div class="form-group col-md-4" [ngClass]="displayFieldCss('email')">
                <label for="email" class="form-label required">Correo</label>
                <input type="email" class="form-control" id="email" formControlName="email">
                <div class="form-text">Usado únicamente para activar la cuenta.</div>
                <div *ngIf="form.get('email')?.touched && form.get('email')?.invalid" class="text-danger">{{ getErrorMessage('email') }}</div>
            </div>
            <div class="form-group col-md-3" [ngClass]="displayFieldCss('dni')">
                <label for="dni" class="form-label required">DNI</label>
                <input type="text" class="form-control" id="dni" formControlName="dni">
                <div *ngIf="form.get('dni')?.touched && form.get('dni')?.invalid" class="text-danger">{{ getErrorMessage('dni') }}</div>
            </div>
        </div>
        <div formGroupName="address">
            <div class="form-group row">
                <div class="col-md-6" [ngClass]="displayFieldCss('address.street')">
                    <label for="address" class="form-label required">Dirección</label>
                    <input type="text" class="form-control" id="address" formControlName="street">
                    <div *ngIf="form.get('address.street')?.touched && form.get('address.street')?.invalid" class="text-danger">{{ getErrorMessage('address.street') }}</div>
                </div>
                <div class="col-md-3">
                    <label for="address2" class="form-label">Dirección secundaria</label>
                    <input type="text" class="form-control" id="address2" formControlName="street2">
                </div>
                <div class="col-md-3" [ngClass]="displayFieldCss('address.zipCode')">
                    <label for="zipCode" class="form-label required">Código postal</label>
                    <input type="text" class="form-control" id="zipCode" formControlName="zipCode">
                    <div *ngIf="form.get('address.zipCode')?.touched && form.get('address.zipCode')?.invalid" class="text-danger">{{ getErrorMessage('address.zipCode') }}</div>
                </div>
            </div>

            <div class="form-group row">
                <div class="col-md-4" [ngClass]="displayFieldCss('address.city')">
                    <label for="city" class="form-label required">Ciudad</label>
                    <input type="text" class="form-control" id="city" formControlName="city">
                    <div *ngIf="form.get('address.city')?.touched && form.get('address.city')?.invalid" class="text-danger">{{ getErrorMessage('address.city') }}</div>
                </div>
                <div class="col-md-4" [ngClass]="displayFieldCss('address.province')">
                    <label for="province" class="form-label required">Provincia</label>
                    <input type="text" class="form-control" id="province" formControlName="province">
                    <div *ngIf="form.get('address.province')?.touched && form.get('address.province')?.invalid" class="text-danger">{{ getErrorMessage('address.province') }}</div>
                </div>
                <div class="col-md-4" [ngClass]="displayFieldCss('address.country')">
                    <label for="country" class="form-label required">País</label>
                    <input type="text" class="form-control" id="country" formControlName="country">
                    <div *ngIf="form.get('address.country')?.touched && form.get('address.country')?.invalid" class="text-danger">{{ getErrorMessage('address.country') }}</div>
                </div>
            </div>
        </div>
        <!-- <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="exampleCheck1">
            <label class="form-check-label" for="exampleCheck1">Check me out</label>
        </div> -->
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Registrar</button>
    </form>
</div>